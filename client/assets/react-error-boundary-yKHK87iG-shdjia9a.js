import{a as i}from"./chunk-WWGJGFF6-CLcwhb55.js";const c=i.createContext(null),d={didCatch:!1,error:null};class m extends i.Component{constructor(r){super(r),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=d}static getDerivedStateFromError(r){return{didCatch:!0,error:r}}resetErrorBoundary(){const{error:r}=this.state;if(r!==null){for(var t,e,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];(t=(e=this.props).onReset)===null||t===void 0||t.call(e,{args:n,reason:"imperative-api"}),this.setState(d)}}componentDidCatch(r,t){var e,s;(e=(s=this.props).onError)===null||e===void 0||e.call(s,r,t)}componentDidUpdate(r,t){const{didCatch:e}=this.state,{resetKeys:s}=this.props;if(e&&t.error!==null&&h(r.resetKeys,s)){var n,o;(n=(o=this.props).onReset)===null||n===void 0||n.call(o,{next:s,prev:r.resetKeys,reason:"keys"}),this.setState(d)}}render(){const{children:r,fallbackRender:t,FallbackComponent:e,fallback:s}=this.props,{didCatch:n,error:o}=this.state;let a=r;if(n){const u={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")a=t(u);else if(e)a=i.createElement(e,u);else if(s!==void 0)a=s;else throw o}return i.createElement(c.Provider,{value:{didCatch:n,error:o,resetErrorBoundary:this.resetErrorBoundary}},a)}}function h(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return l.length!==r.length||l.some((t,e)=>!Object.is(t,r[e]))}export{m as ErrorBoundary,c as ErrorBoundaryContext};
